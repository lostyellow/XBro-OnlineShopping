[toc]

## 1 引言
### 1.1 编写目的
本手册叙述了在线购物网站（垂直领域选择：药品）如何使用。本文档的预期读者为使用网站的用户和网站运维。
### 1.2 项目背景
浙江工商大学软件2101第3小组的软件工程实践作业：在线购物网站。

## 2 软件概述
### 2.1 目标
网站达成升级需求A，做到多用户的线上购买线下交付。
### 2.2 功能
支持单个卖家注册登录，支持卖家发布多个商品，支持多个买家注册登录，支持用户以游客和买家身份提出购买，支持卖家对商品和订单的管理。
### 2.3 名词表
#### 2.3.1 角色
网站角色分为游客和用户，用户分为买家和卖家。游客有最基本的权限；用户拥有账号，拥有游客的所有权限。
#### 2.3.2 订单
由于是线下交易所以也被称为购买意向。
#### 2.3.3 发布
发布用于描述商品，卖家在网站创建新商品的动作即为发布该新商品。
#### 2.3.4 冻结
冻结用于描述商品，冻结后买家无法查看和进行商品相关的操作，仅卖家可以查看和修改商品信息。
#### 2.3.5 上架
上架用于描述商品，库存大于0即为上架。
#### 2.3.6 在售
在售用于描述商品，商品没有被冻结或者存货不为0即在售。

## 3 运行环境
### 3.1 软件要求
| 类型 | 软件类型 | 软件名称 | 软件版本号 |
| --- | --- | --- | --- |
| 服务器 | 操作系统 | Windows Linux 等 | 所有支持Java的操作系统 |
| 服务器 | JAVA 运行环境 | SunJDK | 11.0.2 |
| 客户端 | 操作系统 | Windows Linux 等 | 主流操作系统 |
| 客户端 | 浏览器 | Edge Chrome 等 | 主流桌面浏览器 |
### 3.2 如何部署网站
交给网站的运维人员，详见安装部署手册。
### 3.3 如何进入网站
向运维人员获取网站部署的ip（或域名）和端口，浏览器访问 `ip:端口/OnlineShopping`

## 4 操作说明
### 4.1 通用（游客）操作
#### 4.1.1 筛选商品
- 功能概述：在首页通过二级分类筛选特定类别的商品，筛选后仅显示这一类别的商品。
- 操作步骤：
  1. 网页顶部导航栏中点击首页后进入首页。
  2. 左侧有处方药和非处方药两个一级分类菜单，点击后会展开对应的二级分类菜单，在二级分类菜单中点击想要筛选的分类菜单按钮首页就会仅显示对应分类的商品（可能该分类下无商品故不显示任何商品）。
  3. 若需要清除筛选条件，再次点击导航栏中的首页即可。
#### 4.1.2 搜索商品
- 功能概述：在首页通过搜索商品名称找到特定的商品，系统内商品不能重名故搜索后只会显示0或1项商品。
- 操作步骤：
  1. 网页顶部导航栏中点击首页后进入首页。
  2. 导航栏下方有搜索框，输入想要搜索的商品名称后点击搜索框右边的查找按钮，首页会显示对应名称的商品（可能没有这个名称的商品故不显示任何商品）。
  3. 若需要清除搜索条件，再次点击导航栏中的首页即可。
#### 4.1.3 查看商品详情
- 功能概述：在商品详情页查看商品详情。
- 操作步骤：
  1. 网站顶部导航栏中点击首页后进入首页。
  2. 找到想要查看详情的商品后点击商品框进入商品详情页。
#### 4.1.4 购买
- 功能概述：找到想要购买的商品后可以向卖家发送购买意向，卖家同意后可以线下在约定时间地点交易。
- 操作步骤：
  1. 进入商品详情页（详见 4.1.3）。
  2. 点击下方的购买按钮进入填写购买信息页面。
  3. 在购买信息页填写和购买有关的信息，除了备注都为必填项。
  4. 点击提交会跳转回首页，购买请求已经发送给卖家。
#### 4.1.5 注册
- 功能概述：注册成为网站用户，可以注册成为买家或卖家，卖家也有买家的所有权限。
- 操作步骤：
  1. 网站顶部导航栏中点击注册进入注册页。
  2. 右上角选择想要注册的角色，不选择默认注册成为商家。
  3. 填写全部个人信息。
  4. 点击下方的商家注册或用户注册按钮完成注册，注册完成后会跳转到登录页。
### 4.2 通用（用户）操作
#### 4.2.1 登录
- 功能概述：网站内登录，在关闭浏览器或退出登录前保持登录的角色。
- 操作步骤：
  1. 网站顶部导航栏中点击登录进入登录页或通过注册后跳转登录页（详见 4.1.5）。
  2. 将已注册账号的用户名和密码填入后点击登录，若没有账号请先注册（详见 4.1.5）。
  3. 买家登录成功后会跳转到首页，卖家登录成功后会跳转到后台管理页。
#### 4.2.2 忘记密码
- 功能概述：忘记密码后可以通过真实姓名和身份证号码找回密码。
- 操作步骤：
  1. 网站顶部导航栏中点击登录进入登录页。
  2. 点击右下角的找回密码进入找回密码页。
  3. 填写真实姓名和身份证号码后点击查看，会在右侧显示密码。
#### 4.2.3 修改密码
- 功能概述：通过旧密码修改密码。
- 操作前提：已经登录为用户身份。
- 操作步骤：
  1. 网站顶部导航栏中点击修改密码进入修改密码页。
  2. 输入旧密码，新密码，确认密码后点击修改密码。
#### 4.2.4 退出登录
- 功能概述：退出登录后撤销登录的角色。
- 操作前提：已经登录为用户身份。
- 操作步骤：
  1. 网站顶部导航栏中点击退出登录。
  2. 网站会跳转回首页，正在浏览的角色变成游客。
### 4.3 买家操作
#### 4.3.1 查看订单详情
- 功能概述：能查看自己提交的购买意向和卖家对意向的处理结果。
- 操作前提：已经登录为买家角色。
- 操作步骤：
  1. 网站顶部导航栏中点击查看下单详情进入自己的下单详情页。
  2. 在下单详情页会显示自己订单信息以及交易状态，wait表示卖家还未处理该商品订单，success表示卖家同意交易这个订单，end表示卖家不同意交易这个订单。
  3. 注意在游客角色时发送的购买意向不会算作任何用户的购买意向，买家的订单列表内看不到游客角色时发送的购买意向。
### 4.4 卖家操作
#### 4.4.1 发布商品
- 功能概述：将新商品的信息完善后发布变为用户可以购买的商品。
- 操作前提：已经登录为卖家角色。
- 操作步骤：
  1. 网站顶部导航栏中点击进入后台进入后台管理页。
  2. 填写商品相关的所有信息，除商品描述外都为必填项，商品描述有富文本编辑菜单；必须选择仅一张图片作为商品图片上传。
  3. 点击下方的上架按钮，会跳转回首页，若商品数量大于0则可以在首页看到新上架的商品。
#### 4.4.2 查看发布的商品
- 功能概述：查看登录的卖家发布过的所有商品，不论有没有上架过或在售。
- 操作前提：已经登录为卖家角色。
- 操作步骤：
  1. 网站顶部导航栏中点击进入后台进入后台管理页。
  2. 点击右上角的查看历史商品进入历史商品页。
#### 4.4.3 修改商品
- 功能概述：修改可以修改商品的库存，是否冻结，以及其他所有的商品信息，商品图片也可以添加或删除。
- 操作前提：已经登录为卖家角色并发布过商品。
- 操作步骤：
  1. 进入历史商品页（详见 4.4.2）。
  2. 找到想要修改的商品，点击左侧对应的商品名称进入商品管理页。
  3. 若商品库存大于0，修改商品信息的各个项后点击下方的修改，注意商品子类别和是否冻结不会回显原有信息，需要重新选择，修改后会跳转回主页。
  4. 若商品的库存为0，修改商品信息的各个项后点击下方的重新上架，注意商品子类别和是否冻结不会回显原有信息，需要重新选择，库存也需要重新填写一个大于0的值否则仍不视为重新上架，修改后会跳转回主页。
  5. 若要删除图片，左侧的下拉菜单选择想要删除的图片后点击下方的删除按钮删除，不建议商品没有图片。
  6. 若要添加图片，左侧的下拉菜单选择新增图片后点击选择文件上传该商品的其他图片后点击下方的上传图片按钮。
#### 4.4.4 下架商品
- 功能概述：直接将商品的库存设置为0，用户无法再购买商品。
- 操作前提：已经登录为卖家角色并发布过商品，想要修改的商品库存大于0。
- 操作步骤：
  1. 进入历史商品页（详见 4.4.2）。
  2. 找到想要下架的商品，点击左侧对应的商品名称进入商品管理页。
  3. 点击下方的下架，下架后跳转回主页，该商品库存变为0。
#### 4.4.5 重新上架商品
- 功能概述：重新设置商品库存，详见 4.4.3。
- 操作前提：已经登录为卖家角色并发布过商品。
- 操作步骤：详见 4.4.3。
#### 4.4.6 查看特定商品的所有订单
- 功能概述：是卖家同意或拒绝买家购买意向的前置操作，也可以单纯查看历史订单。
- 操作前提：已经登录为卖家角色并发布过商品。
- 操作步骤：
  1. 进入历史商品页（详见 4.4.2）。
  2. 找到想要查看订单的商品，点击右侧的查看订单进入订单记录页。
#### 4.4.7 同意特定买家购买特定商品
- 功能概述：选择买家同意买家的购买意向，同意后应在线下约定时间地点交易商品。
- 操作前提：已经登录为卖家角色并发布过商品，且该商品被用户提交过购买意向。
- 操作步骤：
  1. 进入订单记录页（详见 4.4.6）。
  2. 订单记录页内的每个条目都是一条购买意向，可以点击右侧的查看详情到订单详情页查看详细信息。
  3. 选择好同意交易的购买意向后点击对应的查看详情跳转订单详情页，点击下方的同意，该条订单的状态会更新为ing表示等待线下交易结束，商品进入冻结状态，其他订单暂时不能同意。
#### 4.4.8 线下交易成功反馈
- 功能概述：卖家同意购买意向后在线下完成交易商品后反馈给网站。
- 操作前提：已经登录为卖家角色并发布过商品，且该商品被用户提交过购买意向，且卖家同意该意向，线下交易成功。
- 操作步骤：
  1. 进入订单记录页（详见 4.4.6）。
  2. 点击交易成功的对应订单（状态应为ing）右侧的查看详情到查看订单详情页。
  3. 点击下方的交易成功，该条订单的状态会更新为success表示线下交易结束。
#### 4.4.9 线下交易失败反馈
- 功能概述：卖家同意购买意向后在线下未完成交易商品后反馈给网站。
- 操作前提：已经登录为卖家角色并发布过商品，且该商品被用户提交过购买意向，且卖家同意该意向，线下交易失败。
- 操作步骤：
  1. 进入订单记录页（详见 4.4.6）。
  2. 点击交易失败的对应订单（状态应为ing）右侧的查看详情到查看订单详情页。
  3. 点击下方的交易失败，该条订单的状态会更新为wait表示线下交易失败继续等待交易，回到卖家没有同意过这个购买意向的状态。
#### 4.4.10 查看用户信息
- 功能概述：卖家可以查看所有买家的用户名，密码，电话，交易地址信息。
- 操作前提：已经登录为卖家角色并发布过商品且网站有买家用户注册。
- 操作步骤：
  1. 网站顶部导航栏中点击进入后台进入后台管理页。
  2. 点击右上角的查看用户信息进入用户信息页。
#### 4.4.11 查看特定用户订单
- 功能概述：卖家可以查看特定买家提交过的所有订单。
- 操作前提：已经登录为卖家角色并发布过商品且网站有买家用户注册。
- 操作步骤：
  1. 网站顶部导航栏中点击进入后台进入后台管理页。
  2. 点击右上角的查看用户信息进入用户信息页。
  3. 选择想要查看的用户点击右边的查看其订单跳转到该用户的订单详情页。

## 5 意外情况
若软件运行时发生错误或其他意外情况请联系浙江工商大学软件2101软件工程实践第3小组。